/* Remove frame wrapper padding so chat fills viewport exactly */
.kitsune-chat-container-wrapper {
    padding: 0 !important;
    max-width: 100% !important;
    height: calc(100vh - 64px);
    overflow: hidden;
}

/* Prevent Quasar/NiceGUI ancestors from scrolling â€” scoped to chat page */
body.kitsune-chat-page .q-layout,
body.kitsune-chat-page .q-page-container,
body.kitsune-chat-page .q-page,
body.kitsune-chat-page .nicegui-content {
    overflow: hidden !important;
    min-height: 0 !important;
}
body.kitsune-chat-page {
    overflow: hidden !important;
}

/* Messages area: scrollbar hiding */
.kitsune-chat-area {
    scrollbar-width: none;
    -ms-overflow-style: none;
}
.kitsune-chat-area::-webkit-scrollbar {
    display: none;
}

/* Bubble typography */
.kitsune-bubble p { margin: 0 0 0.5em; }
.kitsune-bubble p:last-child { margin-bottom: 0; }
.kitsune-bubble code {
    background: rgba(0,0,0,0.25);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.85em;
}
.kitsune-bubble pre {
    background: rgba(0,0,0,0.3);
    padding: 12px;
    border-radius: 8px;
    overflow-x: auto;
    margin: 8px 0;
}

/* Bubble variants (CSS-variable-dependent) */
.kitsune-bubble-user {
    background: linear-gradient(135deg, #7c6af6, #6355d8);
    color: #fff;
    border-bottom-right-radius: 4px;
}
.kitsune-bubble-assistant {
    background: var(--kitsune-surface-hover, #24253a);
    color: var(--kitsune-text, #e1e2e8);
    border: 1px solid var(--kitsune-border, #2f3146);
    border-bottom-left-radius: 4px;
}

/* Avatar variants */
.kitsune-avatar-user { background: #7c6af6; color: #fff; }
.kitsune-avatar-assistant { background: var(--kitsune-surface-hover, #24253a); color: #a78bfa; border: 1px solid var(--kitsune-border, #2f3146); }

/* Welcome state */
.kitsune-welcome-icon {
    opacity: 0.4;
    color: var(--kitsune-text-muted, #8b8fa3);
}
.kitsune-welcome-text {
    color: var(--kitsune-text-muted, #8b8fa3);
    font-size: 1.1rem;
    font-weight: 500;
}

/* Typing animation */
.kitsune-typing-dot {
    display: inline-block;
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: var(--kitsune-text-muted, #8b8fa3);
    animation: kitsune-bounce 1.2s infinite ease-in-out;
    margin: 0 2px;
}
.kitsune-typing-dot:nth-child(2) { animation-delay: 0.15s; }
.kitsune-typing-dot:nth-child(3) { animation-delay: 0.3s; }
@keyframes kitsune-bounce {
    0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
    30% { transform: translateY(-5px); opacity: 1; }
}

/* Error bubble */
.kitsune-error-bubble {
    background: rgba(239, 68, 68, 0.12);
    border: 1px solid rgba(239, 68, 68, 0.3);
    color: #fca5a5;
    padding: 12px 16px;
    border-radius: 16px;
    border-bottom-left-radius: 4px;
    font-size: 0.9rem;
    line-height: 1.55;
}
